<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SENAI GPT — Assistente IA</title>
    <meta name="description" content="SENAI GPT — Assistente de inteligência artificial do SENAI.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <!-- Favicon -->
    <link rel="icon" href="img/SENAI-AI 1.png" type="image/png">

    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#dd203c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="SENAI GPT">

    <!-- Estilos -->
    <link rel="stylesheet" href="style.css">
</head>

<body class="dark-mode">

    <!-- Sidebar -->
    <aside class="sidebar expanded" id="sidebar">
        <div class="sidebar-top">
            <button class="sidebar-btn" id="new-chat" title="Novo chat">
                <i class="fas fa-plus"></i>
            </button>
            <button class="sidebar-btn sidebar-toggle" id="sidebar-toggle" title="Recolher sidebar">
                <i class="fas fa-bars"></i>
            </button>
        </div>

        <!-- Chat History -->
        <div class="chat-history" id="chat-history">
            <div class="chat-history-label">Conversas</div>
            <div class="chat-history-list" id="chat-history-list">
                <!-- Populated dynamically -->
            </div>
        </div>

        <div class="sidebar-bottom">
            <button class="sidebar-btn" id="export-chat" title="Exportar conversa">
                <i class="fas fa-download"></i>
            </button>
            <button class="sidebar-btn" id="share-chat" title="Compartilhar conversa">
                <i class="fas fa-share-alt"></i>
            </button>
            <div class="theme-selector-wrap">
                <button class="sidebar-btn" id="theme-selector-btn" title="Temas">
                    <i class="fas fa-palette"></i>
                </button>
                <div class="theme-dropdown" id="theme-dropdown">
                    <div class="theme-option" data-theme="dark"><span class="theme-dot"
                            style="background:#0f0f1a"></span> Dark</div>
                    <div class="theme-option" data-theme="light"><span class="theme-dot"
                            style="background:#ffffff"></span> Light</div>
                    <div class="theme-option" data-theme="midnight"><span class="theme-dot"
                            style="background:#0a1628"></span> Midnight</div>
                    <div class="theme-option" data-theme="ocean"><span class="theme-dot"
                            style="background:#0c2d48"></span> Ocean</div>
                    <div class="theme-option" data-theme="senai"><span class="theme-dot"
                            style="background:#dd203c"></span> SENAI Red</div>
                </div>
            </div>
            <button class="sidebar-btn" id="settings-btn" title="Configurações IA">
                <i class="fas fa-sliders-h"></i>
            </button>
            <button class="sidebar-btn" id="toggle-mode" title="Alternar tema">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </aside>

    <!-- Settings Panel -->
    <div class="settings-overlay" id="settings-overlay">
        <div class="settings-panel">
            <div class="settings-header">
                <h3><i class="fas fa-cog"></i> Configurações da IA</h3>
                <button class="settings-close" id="settings-close"><i class="fas fa-times"></i></button>
            </div>

            <div class="settings-body">
                <!-- Modelo -->
                <div class="settings-group">
                    <label class="settings-label">Modelo</label>
                    <select id="model-select" class="settings-select">
                        <option value="gemini-2.5-flash">Gemini 2.5 Flash (Rápido)</option>
                        <option value="gemini-2.5-flash-preview-04-17">Gemini 2.5 Flash Preview</option>
                        <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                        <option value="gemini-1.5-pro">Gemini 1.5 Pro (Avançado)</option>
                    </select>
                </div>

                <!-- Temperatura -->
                <div class="settings-group">
                    <label class="settings-label">Temperatura: <span id="temp-value">0.7</span></label>
                    <input type="range" id="temp-slider" class="settings-range" min="0" max="2" step="0.1" value="0.7">
                    <div class="range-labels">
                        <span>Preciso</span>
                        <span>Criativo</span>
                    </div>
                </div>

                <!-- Personalidade -->
                <div class="settings-group">
                    <label class="settings-label">Personalidade da IA</label>
                    <div class="personality-grid">
                        <button class="personality-btn active" data-personality="padrao">
                            <i class="fas fa-robot"></i>
                            <span>Padrão</span>
                            <small>Educado e técnico</small>
                        </button>
                        <button class="personality-btn" data-personality="casual">
                            <i class="fas fa-comments"></i>
                            <span>Casual</span>
                            <small>Gírias e descontraído</small>
                        </button>
                        <button class="personality-btn" data-personality="tecnico">
                            <i class="fas fa-laptop-code"></i>
                            <span>Técnico</span>
                            <small>Foco em código e dados</small>
                        </button>
                        <button class="personality-btn" data-personality="professor">
                            <i class="fas fa-chalkboard-teacher"></i>
                            <span>Professor</span>
                            <small>Didático e explicativo</small>
                        </button>
                    </div>
                </div>

                <!-- Prompt personalizado -->
                <div class="settings-group">
                    <label class="settings-label">Prompt do Sistema (instruções personalizadas)</label>
                    <textarea id="custom-prompt" class="settings-textarea" rows="4"
                        placeholder="Escreva instruções personalizadas para a IA..."></textarea>
                    <small class="settings-hint">Deixe vazio para usar o prompt da personalidade selecionada</small>
                </div>
            </div>

            <div class="settings-footer">
                <button class="settings-save" id="settings-save"><i class="fas fa-check"></i> Salvar</button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">

        <!-- Chat Messages Area -->
        <div class="chat-messages" id="chat-messages">
            <!-- Welcome Screen -->
            <div class="welcome" id="welcome">
                <div class="welcome-logo">
                    <img src="img/SENAI-AI 1.png" alt="SENAI GPT Logo">
                    <div class="logo-glow"></div>
                </div>
                <h1 class="welcome-title">SENAI <span class="accent">GPT</span></h1>
                <p class="welcome-subtitle">Como posso te ajudar hoje?</p>

                <div class="suggestion-cards">
                    <div class="suggestion-card" data-prompt="O que é inteligência artificial?">
                        <i class="fas fa-lightbulb"></i>
                        <span>O que é inteligência artificial?</span>
                    </div>
                    <div class="suggestion-card" data-prompt="Me explique sobre machine learning">
                        <i class="fas fa-brain"></i>
                        <span>Me explique sobre machine learning</span>
                    </div>
                    <div class="suggestion-card" data-prompt="Como funciona um chatbot?">
                        <i class="fas fa-robot"></i>
                        <span>Como funciona um chatbot?</span>
                    </div>
                    <div class="suggestion-card" data-prompt="Quais os cursos do SENAI?">
                        <i class="fas fa-graduation-cap"></i>
                        <span>Quais os cursos do SENAI?</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scroll to Bottom Button -->
        <button class="scroll-bottom-btn" id="scroll-bottom" title="Ir ao final">
            <i class="fas fa-chevron-down"></i>
        </button>

        <!-- Input Area -->
        <div class="input-area">
            <!-- File Preview Strip -->
            <div class="file-preview-strip" id="file-preview-strip"></div>

            <div class="input-wrapper">
                <!-- Hidden file input -->
                <input type="file" id="file-input" multiple hidden>

                <button class="input-btn" id="attach-btn" title="Anexar arquivo">
                    <i class="fas fa-paperclip"></i>
                </button>
                <input type="text" name="prompt" id="prompt" placeholder="Escreva sua mensagem..." autocomplete="off">
                <div class="input-actions">
                    <button class="input-btn" id="webcam-btn" title="Câmera ao vivo">
                        <i class="fas fa-camera"></i>
                    </button>
                    <button class="input-btn" id="capture" title="Mensagem de voz">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button class="input-btn send-btn" id="send-btn" title="Enviar">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
            <p class="disclaimer">SENAI GPT pode gerar informações imprecisas. Verifique as respostas importantes.</p>
        </div>

    </main>

    <!-- Webcam Modal -->
    <div class="webcam-overlay" id="webcam-overlay">
        <div class="webcam-panel">
            <div class="webcam-header">
                <h3><i class="fas fa-camera"></i> Câmera ao Vivo</h3>
                <button class="settings-close" id="webcam-close"><i class="fas fa-times"></i></button>
            </div>
            <div class="webcam-body">
                <video id="webcam-video" autoplay playsinline></video>
                <canvas id="webcam-canvas" style="display:none"></canvas>
            </div>
            <div class="webcam-footer">
                <button class="webcam-capture-btn" id="webcam-capture">
                    <i class="fas fa-circle"></i> Capturar
                </button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="config.js"></script>
    <script src="index.js"></script>
    <script>
        // PWA Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').catch(() => { });
        }
    </script>
</body>

</html>